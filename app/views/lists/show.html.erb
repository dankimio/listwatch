<section class="mt-4">
  <div class="row flex-sm-row-reverse">
    <div class="col-md-4">
      <div class="card bg-transparent mb-3">
        <div class="card-body">
          <h4 class="card-title">Your stats</h4>
          <p class="card-text">
            Your progress:
          </p>
          <div class="progress">
            <% if user_signed_in? %>
              <div class="progress-bar bg-success" role="progressbar" style="width: <%= @list.progress(current_user) * 100 %>%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
                <%= @list.rated_movies_count(current_user) %> / <%= @list.movies_count %>
              </div>
            <% else %>
              <div class="progress-bar bg-transparent" role="progressbar" style="width: 100%;color:#aaa" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                0 / <%= @list.movies_count %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-8">
      <h1>IMDb Top 250</h1>
      <p class="text-muted mb-4">Top 250 as rated by IMDb Users</p>
      <ul id="movie-list" class="list-unstyled">
        <% @movies.each do |movie| %>
          <%= render 'movie', movie: movie %>
        <% end %>
      </ul>
    </div>
  </div>
</section>
